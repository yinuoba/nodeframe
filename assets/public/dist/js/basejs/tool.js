/*! nodeframe - v0.0.1 
* http://weibo.com/yinuoba
* Copyright (c) 2014 Hoogle; Licensed  */
var Tool=function(window,document,undefined){var Tool={};return Tool.getHighestZIndex=function(){var a=1;return $("*").each(function(){var b=parseInt($(this).css("zIndex"),10);b>a&&999>b&&(a=b)}),a},Tool.getParams=function(a){var a=a||window.location.href,b=a.indexOf("?"),c={};if(-1!==b)for(var d,e=a.slice(b+1),f=e.split("&"),g=0,h=f.length;h>g;g++)d=f[g].split("="),c[d[0]]=d[1];return c},Tool.mix=function(){for(var a,b=arguments,c=b.length-1,d={};c>=0;c--){var e=b[c];for(a in e)e.hasOwnProperty(a)&&(d[a]=e[a])}return d},Tool.subStr=function(a,b){if(!a)return"";b=b>0?2*b:280;for(var c=0,d="",e=0;e<a.length;e++){if(a.charCodeAt(e)>255?c+=2:c++,c>b)return d;d+=a.charAt(e)}return a},Tool.showLoading=function(a){a.empty().addClass("loading")},Tool.hideLoading=function(a){a.removeClass("loading")},Tool.ajax=function(a){var b=a.url,c=a.type||"post",d=a.data||{},e=a.dataType||"json",f=a.submitBtn,g=a.beforeSend||function(){f.length&&Tool.disableButton(f)},h=a.complete||function(){f.length&&Tool.enableButton($this)},i=a.success||function(){};$.ajax({type:c,dataType:e,url:b,data:d,beforeSend:g,success:i.bind(json),complete:h})},Tool.disableButton=function(a){$(a).attr("disabled","disabled"),$(a).addClass("btn-disabled")},Tool.enableButton=function(a){$(a).removeAttr("disabled"),$(a).removeClass("btn-disabled")},Tool.disabledForm=function(a){var b=$("input,textarea,select",a).not('input[type="hidden"]');b.addClass("input_disable"),b.each(function(){var a=$(this),b=a.val();a.is("textarea")?a.prop("readonly",!0):a.prop("disabled",!0),a.attr("title",b),a.css({"background-color":"#F0F0F0",color:"#6D6D6D"})})},Tool.enabledForm=function(a){var b=$("input,textarea,select",a).not('input[type="hidden"]');b.removeClass("input_disable"),b.each(function(){var a=$(this),b=a.val();a.removeAttr(a.is("textarea")?"readonly":"disabled"),a.attr("title",b),a.css({"background-color":"#F0F0F0",color:"#6D6D6D"})})},Tool.textLength=function(a){var b=$("[textlength]"),c=!1;a&&(b=$("[textlength]",a),b.length||(b=$(a)),c=!0,b.removeAttr("original-title"),b.removeAttr("full-text")),b.each(function(){var a=$(this);if(!a.attr("full-text")||c){var b=a.attr("textlength"),d=$.trim(a.text()),e=d;a.attr("full-text",e),d.length>b&&Tool.subStr(d,b)!=d&&(d=Tool.subStr(d,b)+"...",a.html(d),a.attr("original-title",e),a.attr("title",e),"function"==typeof $.colorbox&&$.colorbox.resize())}})},Tool.setCenter=function(a){a=$(a).show();var b=$(window).scrollTop()+$(window).height()/2,c=a.width(),d=a.height(),e=Tool.getHighestZIndex();a.css({position:"absolute",left:"50%",top:b+"px",marginLeft:"-"+c/2+"px",marginTop:"-"+d/2+"px",zIndex:e})},Tool.upperDigit=function(a){var b=["角","分"],c=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],d=[["元","万","亿"],["","拾","佰","仟"]],e=0>a?"欠":"";a=Math.abs(a);for(var f="",g=0;g<b.length;g++)f+=(c[Math.floor(10*a*Math.pow(10,g))%10]+b[g]).replace(/零./,"");f=f||"整",a=Math.floor(a);for(var g=0;g<d[0].length&&a>0;g++){for(var h="",i=0;i<d[1].length&&a>0;i++)h=c[a%10]+d[1][i]+h,a=Math.floor(a/10);f=h.replace(/(零.)*零$/,"").replace(/^$/,"零")+d[0][g]+f}return e+f.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")},Tool.dcmAdd=function(a,b){var c,d,e;try{c=a.toString().split(".")[1].length}catch(f){c=0}try{d=b.toString().split(".")[1].length}catch(f){d=0}return e=Math.pow(10,Math.max(c,d)),(Tool.accMul(a,e)+Tool.accMul(b,e))/e},Tool.dcmSub=function(a,b){return Tool.dcmAdd(a,-b)},Tool.accMul=function(a,b){var c=0,d=a.toString(),e=b.toString();try{c+=d.split(".")[1].length}catch(f){}try{c+=e.split(".")[1].length}catch(f){}return Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c)},Tool.accDiv=function(arg1,arg2){var r1,r2,t1=0,t2=0;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math)return r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),r1/r2*pow(10,t2-t1)},Tool.dcmYu=function(a,b){var c,d,e;try{c=a.toString().split(".")[1].length}catch(f){c=0}try{d=b.toString().split(".")[1].length}catch(f){d=0}return e=Math.pow(10,Math.max(c,d)),Tool.accMul(a,e)%Tool.accMul(b,e)/e},Tool.toPercentFormat=function(a){var b=Tool.accMul(a,100);return""+b+"%"},Tool.fixedHover=function(a){var b,c,d={enterTimeout:200,leaveTimeout:200,enterBeforeFun:function(){},enterFun:function(){},leaveBeforeFun:function(){},leaveFun:function(){}},e=$.extend(d,a||{});if($.trim(e.selector))$(e.selector).live("mouseenter",function(){var a=$(this);e.enterBeforeFun.call(a,e),window.clearTimeout(c),b=window.setTimeout(function(){e.enterFun.call(a,e)},e.enterTimeout)}),$(e.selector).live("mouseleave",function(){var a=$(this);e.leaveBeforeFun.call(a,e),window.clearTimeout(b),c=window.setTimeout(function(){e.leaveFun.call(a,e)},e.leaveTimeout)});else try{console.error("请传入需触发元素的选择器")}catch(f){return!1}},Tool.eventBroker={eventExec:function(a,b,c){var d=Tool.eventBroker.eventAnalysis(b),e=[a].concat(d.args);return"function"==typeof c[d.groupName]?void c[d.groupName].apply(this,e):void c[d.groupName][d.eventFn].apply(this,e)},throwEvent:function(a,b){var c=$(this),d={click:"event-click",focusin:"event-focus",focusout:"event-blur",change:"event-change",mouseover:"event-mouseover",mouseout:"event-mouseout"};if(!b)return!1;var e=c.attr(d[a.type]),f=c.attr("data-args");Tool.eventBroker.eventExec.call(this,a,{event:e,args:f},b)},eventAnalysis:function(a){var b=a.event.split("."),c=b[1],d=b[0],e=a.args;return e=e&&e.split(",")||[],{groupName:d,eventFn:c,args:e}},eventInit:function(a){function b(b){c.throwEvent.call(this,b,a),b.stopPropagation&&b.stopPropagation(),b.cancelBubble&&(b.cancelBubble=!0)}var c=this;$(document).on("click","[event-click]",b).on("focus","[event-focus]",b).on("blur","[event-blur]",b).on("change","[event-change]",b).on("mouseover","[event-mouseover]",b).on("mouseout","[event-mouseout]",b)}},Tool}(window,document,void 0);"function"==typeof define?define(function(){return Tool}):"undefined"!=typeof exports?module.exports=Tool:this.Tool=Tool;